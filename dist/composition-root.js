"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.blogsController = exports.commentsController = exports.postsController = exports.securityController = exports.usersController = exports.authController = exports.jwtService = void 0;
const jwtService_1 = require("./application/jwtService");
const auth_controller_1 = require("./controllers/auth-controller");
const blogs_controller_1 = require("./controllers/blogs-controller");
const comments_controller_1 = require("./controllers/comments-controller");
const posts_controller_1 = require("./controllers/posts-controller");
const security_controller_1 = require("./controllers/security-controller");
const users_controller_1 = require("./controllers/users-controller");
const auth_service_1 = require("./domain/auth-service");
const blogs_service_1 = require("./domain/blogs-service");
const comments_service_1 = require("./domain/comments-service");
const posts_service_1 = require("./domain/posts-service");
const security_service_1 = require("./domain/security-service");
const blogs_db_repository_1 = require("./repositories/blogs-db-repository");
const comments_db_repository_1 = require("./repositories/comments-db-repository");
const device_db_repository_1 = require("./repositories/device-db-repository");
const posts_db_repository_1 = require("./repositories/posts-db-repository");
const users_db_repository_1 = require("./repositories/users-db-repository");
const usersRepository = new users_db_repository_1.UsersRepository();
const deviceRepository = new device_db_repository_1.DeviceRepository();
const blogsRepository = new blogs_db_repository_1.BlogsRepository();
const postsRepository = new posts_db_repository_1.PostsRepository();
const commentsRepository = new comments_db_repository_1.CommentsRepository();
const authService = new auth_service_1.AuthService(usersRepository);
const securityService = new security_service_1.SecurityService(deviceRepository);
//оставил export чтобы не изощряться в миддлварах
exports.jwtService = new jwtService_1.JwtService(deviceRepository);
const postsService = new posts_service_1.PostsService(blogsRepository, postsRepository);
const commentsService = new comments_service_1.CommentsService(exports.jwtService, commentsRepository);
const blogsService = new blogs_service_1.BlogsService(blogsRepository);
exports.authController = new auth_controller_1.AuthController(authService, exports.jwtService);
exports.usersController = new users_controller_1.UsersController(authService);
exports.securityController = new security_controller_1.SecurityController(exports.jwtService, securityService);
exports.postsController = new posts_controller_1.PostsController(exports.jwtService, postsService, commentsService);
exports.commentsController = new comments_controller_1.CommentsController(commentsService);
exports.blogsController = new blogs_controller_1.BlogsController(blogsService, postsService);
//# sourceMappingURL=composition-root.js.map